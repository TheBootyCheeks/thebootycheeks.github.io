<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Bootycheeks Alliance — Galaxy Hub</title>
  <meta name="description" content="Bootycheeks Alliance hub for Star Wars Galaxy of Heroes — Chewbooty, Whalebooty, Dolphinbooty." />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700;900&family=Inter:wght@400;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg-0:#04070e;
      --bg-1:#0a1220;
      --panel:#0b1422;
      --muted:#9fb0c2;
      --accent:#ffe81f;
      --accent-2:#39d0ff;
      --glass: rgba(255,255,255,0.03);
      --card-border: rgba(255,255,255,0.08);
      --radius:14px;
      --maxWidth:1100px;
      --gap:18px;
      --text:#eaf6ff;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0}
    body{
      min-height:100vh;
      display:flex;
      align-items:flex-start;
      justify-content:center;
      background:
        radial-gradient(900px 300px at 15% 12%, rgba(57,208,255,0.06), transparent 12%),
        radial-gradient(700px 240px at 85% 88%, rgba(127,255,212,0.05), transparent 12%),
        linear-gradient(180deg,var(--bg-0),var(--bg-1));
      color:var(--text);
      padding:18px;
      overflow-x:hidden;
    }

    .stars{position:fixed;inset:0;pointer-events:none;z-index:0;
      background-image:
        radial-gradient(#ffffff15 1px, transparent 1px),
        radial-gradient(#ffffff0a 1px, transparent 1px);
      background-size: 220px 220px, 72px 72px;
      mix-blend-mode:screen;opacity:0.7;
      transform:translateZ(0);
      animation: drift 40s linear infinite;
    }
    @keyframes drift{ 0%{transform:translate(0,0)} 50%{transform:translate(-12px,8px)} 100%{transform:translate(0,0)} }

    .frame{
      position:relative;z-index:1;
      width:100%;max-width:var(--maxWidth);
      display:grid;grid-template-columns: 1fr 360px;
      gap:20px;padding:18px;border-radius:14px;
      background:linear-gradient(180deg, rgba(255,255,255,0.012), rgba(255,255,255,0.006));
      border:1px solid var(--card-border);
      box-shadow: 0 18px 60px rgba(3,10,20,0.65);
    }

    header.hero{
      grid-column:1/-1;border-radius:14px;padding:18px 18px 8px 18px;
      background:
        linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)),
        repeating-linear-gradient(90deg, transparent 0 18px, rgba(255,255,255,0.015) 18px 19px);
      border:1px solid var(--card-border);
    }
    .brand{display:flex;align-items:center;gap:12px;margin-bottom:8px}
    .emblem{
      width:70px;height:70px;border-radius:12px;
      background:linear-gradient(135deg,var(--accent),#ffcf33);
      display:flex;align-items:center;justify-content:center;
      font-family: Orbitron, sans-serif;font-weight:900;color:#091016;font-size:26px;
      box-shadow: 0 8px 22px rgba(2,6,23,0.5);letter-spacing:1px;
    }
    .title-wrap{display:flex;flex-direction:column}
    .site-title{
      font-family: Orbitron, sans-serif;font-size:24px;font-weight:900;margin:0;color:#fff3b0;letter-spacing:1px;
      text-shadow: 0 0 10px rgba(255,232,31,0.35);
    }
    .site-sub{font-size:13px;color:var(--muted);margin-top:4px}
    .crawl{
      margin:10px 0 0 0;color:#ffe81f;font-family: Orbitron, sans-serif;font-weight:700;font-size:13px;letter-spacing:1px;opacity:0.9;
    }

    .cards{ display:grid; grid-template-columns: 1fr; gap:12px; }
    .card{
      display:flex;gap:12px;align-items:center;padding:14px;border-radius:12px;
      background:linear-gradient(180deg, rgba(255,255,255,0.012), rgba(255,255,255,0.006));
      border:1px solid var(--card-border); text-decoration:none;color:inherit;
      transition: transform .16s ease, box-shadow .16s ease, border-color .16s ease, background .16s ease;
      outline: none; touch-action:manipulation; position:relative;
    }
    .card:focus, .card:hover{
      transform: translateY(-6px);
      box-shadow: 0 18px 44px rgba(2,6,23,0.58);
      border-color: rgba(255,232,31,0.25);
      background:linear-gradient(180deg, rgba(255,232,31,0.06), rgba(255,255,255,0.02));
    }
    .thumb{
      width:72px;height:72px;border-radius:12px;background:var(--glass);
      display:flex;align-items:center;justify-content:center;overflow:hidden;
      border:1px solid var(--card-border);flex:0 0 72px
    }
    .thumb img{width:100%;height:100%;object-fit:cover;display:block}
    .meta{display:flex;flex-direction:column}
    .meta .title{font-weight:800;color:#f4fbff;font-size:16px}
    .meta .desc{font-size:13px;color:var(--muted);margin-top:4px}
    .role{
      margin-left:auto;font-size:12px;font-weight:800;padding:6px 8px;border-radius:10px;
      background:#091420;color:#ffe81f;border:1px solid rgba(255,255,255,0.06)
    }

    /* Info panel inside each card */
    .info{
      margin-top:10px;
      border-top:1px solid var(--card-border);
      padding-top:10px;
      display:none;
      width:100%;
    }
    .info.open{display:block}
    .info-grid{
      display:grid;grid-template-columns: repeat(3, 1fr);gap:10px;
    }
    .pill{
      border:1px solid var(--card-border);
      border-radius:10px;padding:8px;text-align:center;
      background:linear-gradient(180deg, rgba(255,255,255,0.012), rgba(255,255,255,0.006));
    }
    .pill .k{font-size:11px;color:var(--muted)}
    .pill .v{font-weight:900;font-size:14px;color:#f8feff}

    .toggle{
      position:absolute;right:10px;bottom:10px;font-size:12px;color:#ffe81f;cursor:pointer;
      user-select:none;
    }

    .panel{display:flex;flex-direction:column;gap:12px;padding:12px;border-radius:12px;background:transparent;border:1px solid var(--card-border)}
    .preview{
      min-height:120px;border-radius:10px;padding:12px;display:flex;align-items:center;justify-content:center;text-align:center;color:var(--muted);
      background:linear-gradient(180deg, rgba(255,255,255,0.008), rgba(255,255,255,0.003))
    }
    .stats{display:flex;gap:8px;justify-content:space-between}
    .stat{flex:1;text-align:center;border:1px solid var(--card-border);border-radius:10px;padding:10px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005))}
    .stat .num{font-weight:900;font-size:18px;color:#f8feff}
    .stat .label{font-size:12px;color:var(--muted);margin-top:6px}
    .actions{display:flex;gap:10px;justify-content:flex-end}
    .btn{padding:10px 14px;border-radius:10px;border:0;font-weight:800;cursor:pointer;background:var(--accent);color:#091016;box-shadow:0 8px 22px rgba(2,6,23,0.35)}
    .btn.ghost{background:transparent;border:1px solid var(--card-border);color:var(--muted);box-shadow:none}

    .discord-wrap{margin-top:8px;border-radius:10px;overflow:hidden;border:1px solid var(--card-border);
      background:linear-gradient(180deg, rgba(255,255,255,0.006), rgba(255,255,255,0.003))
    }
    .discord-wrap .iframe-container{position:relative;padding-top:calc(500 / 350 * 100%);height:0;width:100%}
    .discord-wrap iframe{position:absolute;top:0;left:0;width:100%;height:100%;border:0;display:block}

    .counter{
      display:flex;align-items:center;justify-content:space-between;gap:12px;
      padding:12px;border:1px solid var(--card-border);border-radius:10px;
      background:linear-gradient(180deg, rgba(255,255,255,0.008), rgba(255,255,255,0.003));
    }
    .counter .label{color:var(--muted);font-size:13px}
    .counter .value{
      font-family: Orbitron, sans-serif;font-weight:900;color:#ffe81f;font-size:18px;
      text-shadow: 0 0 10px rgba(255,232,31,0.35);
    }

    footer{grid-column:1/-1;margin-top:8px;color:var(--muted);font-size:13px;display:flex;flex-direction:row;justify-content:space-between;align-items:center;gap:10px}

    @media (max-width:880px){
      .frame{grid-template-columns:1fr;gap:16px;padding:14px}
      .cards{grid-template-columns:1fr}
      .card{padding:12px}
      .emblem{width:60px;height:60px;font-size:22px}
      .site-title{font-size:22px}
      .preview{min-height:100px}
      .discord-wrap .iframe-container{padding-top:60%}
      .actions{justify-content:space-between}
      footer{flex-direction:column;align-items:flex-start}
      .info-grid{grid-template-columns: repeat(2, 1fr);}
    }
    @media (max-width:420px){
      body{padding:12px}
      .frame{padding:12px;border-radius:12px}
      .card{gap:10px;padding:12px;border-radius:10px}
      .thumb{width:64px;height:64px}
      .emblem{width:50px;height:50px}
      .btn{padding:10px 12px;font-size:14px}
      .info-grid{grid-template-columns: 1fr;}
    }

    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
    a.card:focus-visible{outline:2px solid #ffe81f; outline-offset:2px}
  </style>
</head>
<body>
  <div class="stars" aria-hidden="true"></div>

  <main class="frame" role="main" aria-labelledby="main-title">
    <header class="hero">
      <div class="brand" aria-hidden="true">
        <div class="emblem" aria-hidden="true">A</div>
        <div class="title-wrap">
          <div class="site-title">Bootycheeks Alliance</div>
          <div class="site-sub">Chewbooty • Whalebooty • Dolphinbooty</div>
        </div>
      </div>
      <p class="crawl">A long time ago in a dashboard far, far away…</p>
    </header>

    <section aria-label="Guilds">
      <h1 id="main-title" class="sr-only">Galaxy Hub</h1>

      <nav class="cards" aria-label="Member guilds">
        <!-- Chewbooty -->
        <a class="card" href="https://thebootycheeks.github.io/cb/" target="_blank" rel="noopener noreferrer" aria-label="Open Chewbooty">
          <div class="thumb" aria-hidden="true">
            <img src="https://i.imgur.com/W1kflhn.gif" alt="Chewbooty guild image">
          </div>
          <div class="meta">
            <div class="title">Chewbooty</div>
            <div class="desc">Tactical rosters & dashboards</div>
          </div>
          <div class="role" aria-hidden="true">Lead</div>

          <!-- Info panel populated with SWGOH.GG data -->
          <div class="info" id="info-chewbooty" aria-label="Chewbooty info">
            <div class="info-grid">
              <div class="pill"><div class="k">Members</div><div class="v">50</div></div>
              <div class="pill"><div class="k">Total GP</div><div class="v">543M</div></div>
              <div class="pill"><div class="k">Avg GP</div><div class="v">10.9M</div></div>
              <div class="pill"><div class="k">Character GP</div><div class="v">335M</div></div>
              <div class="pill"><div class="k">Ship GP</div><div class="v">208M</div></div>
              <div class="pill"><div class="k">ROTE stars</div><div class="v">33*</div></div>
              <div class="pill"><div class="k">Avg Skill</div><div class="v">2,859</div></div>
              <div class="pill"><div class="k">Avg Arena</div><div class="v">162.74</div></div>
              <div class="pill"><div class="k">Avg Fleet</div><div class="v">19.92</div></div>
            </div>
            <div class="pill" style="margin-top:10px">
              <div class="k">Tagline</div>
              <div class="v">“Voted #1 luscious unit by PlayBooty magazine.”</div>
            </div>
            <div class="toggle" data-target="info-chewbooty" role="button" aria-expanded="false">Details</div>
          </div>
        </a>

        <!-- Whalebooty -->
        <a class="card" href="https://thebootycheeks.github.io/wb/" target="_blank" rel="noopener noreferrer" aria-label="Open Whalebooty">
          <div class="thumb" aria-hidden="true">
            <img src="https://media1.giphy.com/media/v1.Y2lkPTZjMDliOTUyN2pjc2l4aXBxbmMxYXRidGd6NTQxa2tmcnE5ZWQwNmQ0eWkyaTAxcCZlcD12MV9naWZzX3NlYXJjaCZjdT1n/Z68zWR6XixSa4/200w.gif" alt="Whalebooty guild image">
          </div>
          <div class="meta">
            <div class="title">Whalebooty</div>
            <div class="desc">Logistics & mission tools</div>
          </div>
          <div class="role" aria-hidden="true">Support</div>

          <!-- Placeholder info (update with your data) -->
          <div class="info" id="info-whalebooty" aria-label="Whalebooty info">
            <div class="info-grid">
              <div class="pill"><div class="k">Members</div><div class="v">—</div></div>
              <div class="pill"><div class="k">Total GP</div><div class="v">—</div></div>
              <div class="pill"><div class="k">Avg GP</div><div class="v">—</div></div>
              <div class="pill"><div class="k">ROTE stars</div><div class="v">—</div></div>
              <div class="pill"><div class="k">Focus</div><div class="v">TB/TW coordination</div></div>
            </div>
            <div class="pill" style="margin-top:10px">
              <div class="k">Tagline</div>
              <div class="v">“Powerful whales of the galaxy.”</div>
            </div>
            <div class="toggle" data-target="info-whalebooty" role="button" aria-expanded="false">Details</div>
          </div>
        </a>

        <!-- Dolphinbooty -->
        <a class="card" href="https://thebootycheeks.github.io/db/" target="_blank" rel="noopener noreferrer" aria-label="Open Dolphinbooty">
          <div class="thumb" aria-hidden="true">
            <img src="https://i.imgur.com/GMdxdGN.gif" alt="Dolphinbooty guild image">
          </div>
          <div class="meta">
            <div class="title">Dolphinbooty</div>
            <div class="desc">Recruitment & events</div>
          </div>
          <div class="role" aria-hidden="true">Ops</div>

          <!-- Placeholder info (update with your data) -->
          <div class="info" id="info-dolphinbooty" aria-label="Dolphinbooty info">
            <div class="info-grid">
              <div class="pill"><div class="k">Members</div><div class="v">—</div></div>
              <div class="pill"><div class="k">Total GP</div><div class="v">—</div></div>
              <div class="pill"><div class="k">Avg GP</div><div class="v">—</div></div>
              <div class="pill"><div class="k">ROTE stars</div><div class="v">—</div></div>
              <div class="pill"><div class="k">Focus</div><div class="v">Growth & coaching</div></div>
            </div>
            <div class="pill" style="margin-top:10px">
              <div class="k">Tagline</div>
              <div class="v">“Balanced and resourceful fighters.”</div>
            </div>
            <div class="toggle" data-target="info-dolphinbooty" role="button" aria-expanded="false">Details</div>
          </div>
        </a>
      </nav>
    </section>

    <aside class="panel" aria-label="Alliance tools">
      <div id="preview" class="preview" aria-live="polite">
        Hover or focus a guild card to preview details here. Tap a card to open it.
      </div>

      <div class="stats" role="list" aria-label="Alliance stats">
        <div class="stat" role="listitem" aria-live="polite">
          <div class="num" id="stat-members">1,248</div>
          <div class="label">Members</div>
        </div>
        <div class="stat" role="listitem" aria-live="polite">
          <div class="num" id="stat-online">124</div>
          <div class="label">Online</div>
        </div>
        <div class="stat" role="listitem">
          <div class="num" id="stat-guilds">3</div>
          <div class="label">Guilds</div>
        </div>
      </div>

      <div class="actions" aria-hidden="true">
        <button class="btn ghost" type="button" onclick="location.href='https://discord.gg/bootycheeks'">Join Discord</button>
        <button class="btn" type="button" onclick="location.href='https://github.com/thebootycheeks'">GitHub</button>
      </div>

      <div class="discord-wrap" aria-label="Discord widget">
        <div class="iframe-container">
          <iframe
            src="https://ptb.discord.com/widget?id=430853296480321537&theme=dark"
            allowtransparency="true"
            sandbox="allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"
            title="Bootycheeks Discord">
          </iframe>
        </div>
      </div>

      <div class="counter" aria-live="polite">
        <div class="label">Unique guests</div>
        <div class="value"><span id="guestCount">—</span></div>
      </div>
    </aside>

    <footer>
      <div>© Bootycheeks Alliance</div>
      <div class="muted">Cinematic dark · Mobile-first · Accessible</div>
    </footer>
  </main>

  <script>
    (function(){
      // Preview interactions
      const preview = document.getElementById('preview');
      const defaultText = preview.textContent;
      document.querySelectorAll('.card').forEach(card=>{
        const title = card.querySelector('.meta .title')?.textContent || 'Guild';
        const desc = card.querySelector('.meta .desc')?.textContent || '';
        const role = card.querySelector('.role')?.textContent || '';
        const text = role ? `${title} — ${role}\n${desc}` : `${title}\n${desc}`;
        card.addEventListener('mouseenter', ()=> preview.textContent = text);
        card.addEventListener('focus', ()=> preview.textContent = text);
        card.addEventListener('mouseleave', ()=> preview.textContent = defaultText);
        card.addEventListener('blur', ()=> preview.textContent = defaultText);
        card.addEventListener('keydown', e=>{
          if(e.key === 'Enter' || e.key === ' '){ e.preventDefault(); card.click(); }
        });
      });

      // Toggle info panels
      document.querySelectorAll('.toggle').forEach(t => {
        t.addEventListener('click', ()=>{
          const id = t.getAttribute('data-target');
          const panel = document.getElementById(id);
          const open = panel.classList.toggle('open');
          t.setAttribute('aria-expanded', String(open));
          t.textContent = open ? 'Hide' : 'Details';
        });
      });

      // Demo stats pulse
      const statMembers = document.getElementById('stat-members');
      const statOnline = document.getElementById('stat-online');
      setInterval(()=>{
        const base = 1248;
        statMembers.textContent = (base + Math.floor(Math.random()*7) - 3).toLocaleString();
        statOnline.textContent = (100 + Math.floor(Math.random()*40)).toString();
      }, 15000);

      // Resilient unique guest counter (CountAPI -> CounterAPI fallback)
      const guestEl = document.getElementById('guestCount');
      const LOCAL_KEY = 'bc-guest-counted';
      const counted = (()=> { try { return !!localStorage.getItem(LOCAL_KEY); } catch { return true; } })();
      const NAMESPACE = 'thebootycheeks.github.io';
      const KEY       = 'bootycheeks-guest-counter';

      const providers = {
        countapi: {
          create: () => `https://api.countapi.xyz/create?namespace=${encodeURIComponent(NAMESPACE)}&key=${encodeURIComponent(KEY)}`,
          get:    () => `https://api.countapi.xyz/get/${encodeURIComponent(NAMESPACE)}/${encodeURIComponent(KEY)}`,
          hit:    () => `https://api.countapi.xyz/hit/${encodeURIComponent(NAMESPACE)}/${encodeURIComponent(KEY)}`
        },
        counterapi: {
          get:  () => `https://api.counterapi.dev/v1/${encodeURIComponent(NAMESPACE)}/${encodeURIComponent(KEY)}`,
          up:   () => `https://api.counterapi.dev/v1/${encodeURIComponent(NAMESPACE)}/${encodeURIComponent(KEY)}/up`
        }
      };

      const timeout = (ms) => new Promise((_, reject)=> setTimeout(()=> reject(new Error('timeout')), ms));
      async function safeFetchJSON(url, opts={}) {
        const res = await Promise.race([ fetch(url, {cache:'no-store', ...opts}), timeout(6000) ]);
        if (!res.ok) throw new Error('HTTP ' + res.status);
        return res.json();
      }

      async function tryCountAPI(increment){
        try { await safeFetchJSON(providers.countapi.create()); } catch {}
        const url = increment ? providers.countapi.hit() : providers.countapi.get();
        const data = await safeFetchJSON(url);
        const value = Number(data.value);
        if (Number.isFinite(value)) return value;
        throw new Error('CountAPI invalid response');
      }

      async function tryCounterAPI(increment){
        if (increment) {
          const inc = await safeFetchJSON(providers.counterapi.up(), { method: 'POST' });
          if (Number.isFinite(Number(inc.count))) return Number(inc.count);
        } else {
          const got = await safeFetchJSON(providers.counterapi.get());
          if (Number.isFinite(Number(got.count))) return Number(got.count);
        }
        throw new Error('CounterAPI invalid response');
      }

      async function initCounter(){
        if(!guestEl) return;
        guestEl.textContent = '—';
        const doIncrement = !counted;

        try {
          const val = await tryCountAPI(doIncrement);
          guestEl.textContent = val.toLocaleString();
          try { localStorage.setItem(LOCAL_KEY, '1'); } catch {}
          return;
        } catch {
          try {
            const val2 = await tryCounterAPI(doIncrement);
            guestEl.textContent = val2.toLocaleString();
            try { localStorage.setItem(LOCAL_KEY, '1'); } catch {}
            return;
          } catch {
            guestEl.textContent = 'N/A';
            console.warn('Guest counter failed on both providers.');
          }
        }
      }

      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initCounter);
      } else {
        initCounter();
      }
    })();
  </script>
</body>
</html>
